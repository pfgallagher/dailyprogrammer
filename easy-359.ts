import { range, interleave } from "./lib/util";

const alternatingDigs = (n: number): string =>
	range(1, n)
		.map((_, i) => (i % 2 ? "0" : "1"))
		.join("");

const paperfoldSequence = (n: number): string => {
	let sequence = "1";
	for (const i of range(1, n - 1)) {
		sequence = interleave(alternatingDigs(sequence.length + 1), sequence);
	}
	return sequence;
};

[
	paperfoldSequence(1) === "1",
	paperfoldSequence(2) === "110",
	paperfoldSequence(3) === "1101100",
	paperfoldSequence(4) === "110110011100100",
	paperfoldSequence(9) ===
		"1101100111001001110110001100100111011001110010001101100011001001110110011100100111011000110010001101100111001000110110001100100111011001110010011101100011001001110110011100100011011000110010001101100111001001110110001100100011011001110010001101100011001001110110011100100111011000110010011101100111001000110110001100100111011001110010011101100011001000110110011100100011011000110010001101100111001001110110001100100111011001110010001101100011001000110110011100100111011000110010001101100111001000110110001100100",
].forEach((test, i) => {
	console.assert(test, i.toString());
});
